import 'package:flutter/material.dart';

Map<String, Color> getColorMap() {
  return {
    'transparent': Colors.transparent,
    'red': Colors.red,
    'redAccent': Colors.redAccent,
    'redShade50': Colors.red.shade50,
    'redShade100': Colors.red.shade100,
    'redShade200': Colors.red.shade200,
    'redShade300': Colors.red.shade300,
    'redShade400': Colors.red.shade400,
    'redShade500': Colors.red.shade500,
    'redShade600': Colors.red.shade600,
    'redShade700': Colors.red.shade700,
    'redShade800': Colors.red.shade800,
    'redShade900': Colors.red.shade900,
    'pink': Colors.pink,
    'pinkAccent': Colors.pinkAccent,
    'pinkShade50': Colors.pink.shade50,
    'pinkShade100': Colors.pink.shade100,
    'pinkShade200': Colors.pink.shade200,
    'pinkShade300': Colors.pink.shade300,
    'pinkShade400': Colors.pink.shade400,
    'pinkShade500': Colors.pink.shade500,
    'pinkShade600': Colors.pink.shade600,
    'pinkShade700': Colors.pink.shade700,
    'pinkShade800': Colors.pink.shade800,
    'pinkShade900': Colors.pink.shade900,
    'purple': Colors.purple,
    'purpleAccent': Colors.purpleAccent,
    'purpleShade50': Colors.purple.shade50,
    'purpleShade100': Colors.purple.shade100,
    'purpleShade200': Colors.purple.shade200,
    'purpleShade300': Colors.purple.shade300,
    'purpleShade400': Colors.purple.shade400,
    'purpleShade500': Colors.purple.shade500,
    'purpleShade600': Colors.purple.shade600,
    'purpleShade700': Colors.purple.shade700,
    'purpleShade800': Colors.purple.shade800,
    'purpleShade900': Colors.purple.shade900,
    'deepPurple': Colors.deepPurple,
    'deepPurpleAccent': Colors.deepPurpleAccent,
    'deepPurpleShade50': Colors.deepPurple.shade50,
    'deepPurpleShade100': Colors.deepPurple.shade100,
    'deepPurpleShade200': Colors.deepPurple.shade200,
    'deepPurpleShade300': Colors.deepPurple.shade300,
    'deepPurpleShade400': Colors.deepPurple.shade400,
    'deepPurpleShade500': Colors.deepPurple.shade500,
    'deepPurpleShade600': Colors.deepPurple.shade600,
    'deepPurpleShade700': Colors.deepPurple.shade700,
    'deepPurpleShade800': Colors.deepPurple.shade800,
    'deepPurpleShade900': Colors.deepPurple.shade900,
    'indigo': Colors.indigo,
    'indigoAccent': Colors.indigoAccent,
    'indigoShade50': Colors.indigo.shade50,
    'indigoShade100': Colors.indigo.shade100,
    'indigoShade200': Colors.indigo.shade200,
    'indigoShade300': Colors.indigo.shade300,
    'indigoShade400': Colors.indigo.shade400,
    'indigoShade500': Colors.indigo.shade500,
    'indigoShade600': Colors.indigo.shade600,
    'indigoShade700': Colors.indigo.shade700,
    'indigoShade800': Colors.indigo.shade800,
    'indigoShade900': Colors.indigo.shade900,
    'blue': Colors.blue,
    'blueAccent': Colors.blueAccent,
    'blueShade50': Colors.blue.shade50,
    'blueShade100': Colors.blue.shade100,
    'blueShade200': Colors.blue.shade200,
    'blueShade300': Colors.blue.shade300,
    'blueShade400': Colors.blue.shade400,
    'blueShade500': Colors.blue.shade500,
    'blueShade600': Colors.blue.shade600,
    'blueShade700': Colors.blue.shade700,
    'blueShade800': Colors.blue.shade800,
    'blueShade900': Colors.blue.shade900,
    'lightBlue': Colors.lightBlue,
    'lightBlueAccent': Colors.lightBlueAccent,
    'lightBlueShade50': Colors.lightBlue.shade50,
    'lightBlueShade100': Colors.lightBlue.shade100,
    'lightBlueShade200': Colors.lightBlue.shade200,
    'lightBlueShade300': Colors.lightBlue.shade300,
    'lightBlueShade400': Colors.lightBlue.shade400,
    'lightBlueShade500': Colors.lightBlue.shade500,
    'lightBlueShade600': Colors.lightBlue.shade600,
    'lightBlueShade700': Colors.lightBlue.shade700,
    'lightBlueShade800': Colors.lightBlue.shade800,
    'lightBlueShade900': Colors.lightBlue.shade900,
    'cyan': Colors.cyan,
    'cyanAccent': Colors.cyanAccent,
    'cyanShade50': Colors.cyan.shade50,
    'cyanShade100': Colors.cyan.shade100,
    'cyanShade200': Colors.cyan.shade200,
    'cyanShade300': Colors.cyan.shade300,
    'cyanShade400': Colors.cyan.shade400,
    'cyanShade500': Colors.cyan.shade500,
    'cyanShade600': Colors.cyan.shade600,
    'cyanShade700': Colors.cyan.shade700,
    'cyanShade800': Colors.cyan.shade800,
    'cyanShade900': Colors.cyan.shade900,
    'teal': Colors.teal,
    'tealAccent': Colors.tealAccent,
    'tealShade50': Colors.teal.shade50,
    'tealShade100': Colors.teal.shade100,
    'tealShade200': Colors.teal.shade200,
    'tealShade300': Colors.teal.shade300,
    'tealShade400': Colors.teal.shade400,
    'tealShade500': Colors.teal.shade500,
    'tealShade600': Colors.teal.shade600,
    'tealShade700': Colors.teal.shade700,
    'tealShade800': Colors.teal.shade800,
    'tealShade900': Colors.teal.shade900,
    'green': Colors.green,
    'greenAccent': Colors.greenAccent,
    'greenShade50': Colors.green.shade50,
    'greenShade100': Colors.green.shade100,
    'greenShade200': Colors.green.shade200,
    'greenShade300': Colors.green.shade300,
    'greenShade400': Colors.green.shade400,
    'greenShade500': Colors.green.shade500,
    'greenShade600': Colors.green.shade600,
    'greenShade700': Colors.green.shade700,
    'greenShade800': Colors.green.shade800,
    'greenShade900': Colors.green.shade900,
    'lightGreen': Colors.lightGreen,
    'lightGreenAccent': Colors.lightGreenAccent,
    'lightGreenShade50': Colors.lightGreen.shade50,
    'lightGreenShade100': Colors.lightGreen.shade100,
    'lightGreenShade200': Colors.lightGreen.shade200,
    'lightGreenShade300': Colors.lightGreen.shade300,
    'lightGreenShade400': Colors.lightGreen.shade400,
    'lightGreenShade500': Colors.lightGreen.shade500,
    'lightGreenShade600': Colors.lightGreen.shade600,
    'lightGreenShade700': Colors.lightGreen.shade700,
    'lightGreenShade800': Colors.lightGreen.shade800,
    'lightGreenShade900': Colors.lightGreen.shade900,
    'lime': Colors.lime,
    'limeAccent': Colors.limeAccent,
    'limeShade50': Colors.lime.shade50,
    'limeShade100': Colors.lime.shade100,
    'limeShade200': Colors.lime.shade200,
    'limeShade300': Colors.lime.shade300,
    'limeShade400': Colors.lime.shade400,
    'limeShade500': Colors.lime.shade500,
    'limeShade600': Colors.lime.shade600,
    'limeShade700': Colors.lime.shade700,
    'limeShade800': Colors.lime.shade800,
    'limeShade900': Colors.lime.shade900,
    'yellow': Colors.yellow,
    'yellowAccent': Colors.yellowAccent,
    'yellowShade50': Colors.yellow.shade50,
    'yellowShade100': Colors.yellow.shade100,
    'yellowShade200': Colors.yellow.shade200,
    'yellowShade300': Colors.yellow.shade300,
    'yellowShade400': Colors.yellow.shade400,
    'yellowShade500': Colors.yellow.shade500,
    'yellowShade600': Colors.yellow.shade600,
    'yellowShade700': Colors.yellow.shade700,
    'yellowShade800': Colors.yellow.shade800,
    'yellowShade900': Colors.yellow.shade900,
    'amber': Colors.amber,
    'amberAccent': Colors.amberAccent,
    'amberShade50': Colors.amber.shade50,
    'amberShade100': Colors.amber.shade100,
    'amberShade200': Colors.amber.shade200,
    'amberShade300': Colors.amber.shade300,
    'amberShade400': Colors.amber.shade400,
    'amberShade500': Colors.amber.shade500,
    'amberShade600': Colors.amber.shade600,
    'amberShade700': Colors.amber.shade700,
    'amberShade800': Colors.amber.shade800,
    'amberShade900': Colors.amber.shade900,
    'orange': Colors.orange,
    'orangeAccent': Colors.orangeAccent,
    'orangeShade50': Colors.orange.shade50,
    'orangeShade100': Colors.orange.shade100,
    'orangeShade200': Colors.orange.shade200,
    'orangeShade300': Colors.orange.shade300,
    'orangeShade400': Colors.orange.shade400,
    'orangeShade500': Colors.orange.shade500,
    'orangeShade600': Colors.orange.shade600,
    'orangeShade700': Colors.orange.shade700,
    'orangeShade800': Colors.orange.shade800,
    'orangeShade900': Colors.orange.shade900,
    'deepOrange': Colors.deepOrange,
    'deepOrangeAccent': Colors.deepOrangeAccent,
    'deepOrangeShade50': Colors.deepOrange.shade50,
    'deepOrangeShade100': Colors.deepOrange.shade100,
    'deepOrangeShade200': Colors.deepOrange.shade200,
    'deepOrangeShade300': Colors.deepOrange.shade300,
    'deepOrangeShade400': Colors.deepOrange.shade400,
    'deepOrangeShade500': Colors.deepOrange.shade500,
    'deepOrangeShade600': Colors.deepOrange.shade600,
    'deepOrangeShade700': Colors.deepOrange.shade700,
    'deepOrangeShade800': Colors.deepOrange.shade800,
    'deepOrangeShade900': Colors.deepOrange.shade900,
    'brown': Colors.brown,
    'grey': Colors.grey,
    'greyShade50': Colors.grey.shade50,
    'greyShade100': Colors.grey.shade100,
    'greyShade200': Colors.grey.shade200,
    'greyShade300': Colors.grey.shade300,
    'greyShade400': Colors.grey.shade400,
    'greyShade500': Colors.grey.shade500,
    'greyShade600': Colors.grey.shade600,
    'greyShade700': Colors.grey.shade700,
    'greyShade800': Colors.grey.shade800,
    'greyShade900': Colors.grey.shade900,
    'blueGrey': Colors.blueGrey,
    'blueGreyShade50': Colors.blueGrey.shade50,
    'blueGreyShade100': Colors.blueGrey.shade100,
    'blueGreyShade200': Colors.blueGrey.shade200,
    'blueGreyShade300': Colors.blueGrey.shade300,
    'blueGreyShade400': Colors.blueGrey.shade400,
    'blueGreyShade500': Colors.blueGrey.shade500,
    'blueGreyShade600': Colors.blueGrey.shade600,
    'blueGreyShade700': Colors.blueGrey.shade700,
    'blueGreyShade800': Colors.blueGrey.shade800,
    'blueGreyShade900': Colors.blueGrey.shade900,
    'black': Colors.black,
    'white': Colors.white,
  };
}

Color? _parseVarColor(BuildContext context, String? color) {
  // TODO: add more theme colors
  switch (color) {
    /* 
        Color Scheme
    */
    case '@theme.colorScheme.primary':
      return Theme.of(context).colorScheme.primary;
    case '@theme.colorScheme.onPrimary':
      return Theme.of(context).colorScheme.onPrimary;
    case '@theme.colorScheme.primaryContainer':
      return Theme.of(context).colorScheme.primaryContainer;
    case '@theme.colorScheme.onPrimaryContainer':
      return Theme.of(context).colorScheme.onPrimaryContainer;
    case '@theme.colorScheme.secondary':
      return Theme.of(context).colorScheme.secondary;
    case '@theme.colorScheme.onSecondary':
      return Theme.of(context).colorScheme.onSecondary;
    case '@theme.colorScheme.secondaryContainer':
      return Theme.of(context).colorScheme.secondaryContainer;
    case '@theme.colorScheme.onSecondaryContainer':
      return Theme.of(context).colorScheme.onSecondaryContainer;
    case '@theme.colorScheme.tertiary':
      return Theme.of(context).colorScheme.tertiary;
    case '@theme.colorScheme.onTertiary':
      return Theme.of(context).colorScheme.onTertiary;
    case '@theme.colorScheme.tertiaryContainer':
      return Theme.of(context).colorScheme.tertiaryContainer;
    case '@theme.colorScheme.onTertiaryContainer':
      return Theme.of(context).colorScheme.onTertiaryContainer;
    case '@theme.colorScheme.error':
      return Theme.of(context).colorScheme.error;
    case '@theme.colorScheme.onError':
      return Theme.of(context).colorScheme.onError;
    case '@theme.colorScheme.errorContainer':
      return Theme.of(context).colorScheme.errorContainer;
    case '@theme.colorScheme.onErrorContainer':
      return Theme.of(context).colorScheme.onErrorContainer;
    case '@theme.colorScheme.background':
      return Theme.of(context).colorScheme.background;
    case '@theme.colorScheme.onBackground':
      return Theme.of(context).colorScheme.onBackground;
    case '@theme.colorScheme.surface':
      return Theme.of(context).colorScheme.surface;
    case '@theme.colorScheme.onSurface':
      return Theme.of(context).colorScheme.onSurface;
    case '@theme.colorScheme.surfaceVariant':
      return Theme.of(context).colorScheme.surfaceVariant;
    case '@theme.colorScheme.onSurfaceVariant':
      return Theme.of(context).colorScheme.onSurfaceVariant;
    case '@theme.colorScheme.outline':
      return Theme.of(context).colorScheme.outline;
    case '@theme.colorScheme.outlineVariant':
      return Theme.of(context).colorScheme.outlineVariant;
    case '@theme.colorScheme.shadow':
      return Theme.of(context).colorScheme.shadow;
    case '@theme.colorScheme.scrim':
      return Theme.of(context).colorScheme.scrim;
    case '@theme.colorScheme.inverseSurface':
      return Theme.of(context).colorScheme.inverseSurface;
    case '@theme.colorScheme.onInverseSurface':
      return Theme.of(context).colorScheme.onInverseSurface;
    case '@theme.colorScheme.inversePrimary':
      return Theme.of(context).colorScheme.inversePrimary;
    case '@theme.colorScheme.surfaceTint':
      return Theme.of(context).colorScheme.surfaceTint;
    /* 
        Theme Color
    */
    case '@theme.canvasColor':
      return Theme.of(context).canvasColor;
    case '@theme.cardColor':
      return Theme.of(context).cardColor;
    case '@theme.dialogBackgroundColor':
      return Theme.of(context).dialogBackgroundColor;
    case '@theme.disabledColor':
      return Theme.of(context).disabledColor;
    case '@theme.dividerColor':
      return Theme.of(context).dividerColor;
    case '@theme.focusColor':
      return Theme.of(context).focusColor;
    case '@theme.highlightColor':
      return Theme.of(context).highlightColor;
    case '@theme.hintColor':
      return Theme.of(context).hintColor;
    case '@theme.hoverColor':
      return Theme.of(context).hoverColor;
    case '@theme.indicatorColor':
      return Theme.of(context).indicatorColor;
    case '@theme.primaryColor':
      return Theme.of(context).primaryColor;
    case '@theme.primaryColorDark':
      return Theme.of(context).primaryColorDark;
    case '@theme.primaryColorLight':
      return Theme.of(context).primaryColorLight;
    case '@theme.scaffoldBackgroundColor':
      return Theme.of(context).scaffoldBackgroundColor;
    case '@theme.secondaryHeaderColor':
      return Theme.of(context).secondaryHeaderColor;
    case '@theme.shadowColor':
      return Theme.of(context).shadowColor;
    case '@theme.splashColor':
      return Theme.of(context).splashColor;
    case '@theme.unselectedWidgetColor':
      return Theme.of(context).unselectedWidgetColor;
    case '@theme.navigationRailTheme.backgroundColor':
      return Theme.of(context).navigationRailTheme.backgroundColor;
    case '@theme.appBarTheme.backgroundColor':
      return Theme.of(context).appBarTheme.backgroundColor;
    case '@theme.appBarTheme.foregroundColor':
      return Theme.of(context).appBarTheme.foregroundColor;
    default:
      return null;
  }
}

Color? getColor(BuildContext context, String? color) {
  if (color == null) {
    return null;
  }

  color = color.trim();

  if (color.startsWith('@')) {
    return _parseVarColor(context, color);
  }

  if (color.startsWith('#')) {
    color = color.substring(1);
    if (color.length == 3) {
      color = color.split('').map((e) => '$e$e').join().toUpperCase();
    }

    return Color(int.parse(color, radix: 16) + 0xFF000000);
  }

  var colors = color.split('-');
  var map = getColorMap();
  if (map.containsKey(colors[0])) {
    var color = map[colors[0]]!;
    if (colors.length == 2 && color is MaterialColor) {
      try {
        return color[int.parse(colors[1])];
      } catch (e) {
        return color;
      }
    }
    return color;
  }
  return null;
}
